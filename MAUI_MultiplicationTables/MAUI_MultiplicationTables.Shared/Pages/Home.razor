@page "/"
@code {
    private int number = 5;
    private int size = 1_000_000;
    private int time = 0;

    private int TimeFunction(Action action)
    {
        var timer = System.Diagnostics.Stopwatch.StartNew();
        action();
        timer.Stop();
        time = (int)timer.ElapsedMilliseconds;
        return time;
    }

    private void CalculateMultiplicationTable()
    {
        TimeFunction(() =>
        {
            var calculations = new int[this.size];
            for (var i = 0; i < this.size; i++)
            {
                calculations[i] = this.number * (i + 1);
            }
        });
    }

    public void GenerateAndSortNumbers()
    {
        TimeFunction(() =>
        {
            var numbers = new int[size];
            for (int i = 0; i < this.size; i++)
            {
                numbers[i] = Random.Shared.Next(1, 100);
            }
            numbers.ToList().Sort();
        });
    }

    private void GeneratePrimeNumbers()
    {
        TimeFunction(() =>
        {
            var primeNumbers = new List<int>();
            for (int i = 2; primeNumbers.Count < this.size; i++)
            {
                if (IsPrime(i))
                {
                    primeNumbers.Add(i);
                }
            }
        });
    }
    private bool IsPrime(int number)
    {
        var boundary = Math.Floor(Math.Sqrt(number));
        if (number == 1) return false;
        if (number == 2) return true;
        for (int i = 2; i <= boundary; ++i)
        {
            if (number % i == 0) return false;
        }
        return true;
    }
}

<PageTitle>Home</PageTitle>
<ion-list>
    <ion-item>
        <ion-button @onclick=CalculateMultiplicationTable>Generate Multiplication Tables</ion-button>
    </ion-item>
    <ion-item>
        <ion-button @onclick=GenerateAndSortNumbers>Generate and Sort Numbers</ion-button>
    </ion-item>
    <ion-item>
        <ion-button @onclick=GeneratePrimeNumbers>Generate Prime Numbers</ion-button>
    </ion-item>
    @if (time > 0)
    {
        <ion-item>
            <ion-label>Did that in @time ms</ion-label>
        </ion-item>
    }
</ion-list>